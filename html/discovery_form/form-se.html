<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Discovery-formulär · Vikstrand Deep Solutions</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#0f172a;
      --text:#e6edf3;
      --muted:#9fb0c3;
      --accent:#60a5fa;
      --accent-strong:#3b82f6;
      --danger:#f43f5e;
      --ok:#22c55e;
      --border:#1f2937;
      --chip:#111827;
      --chip-border:#1f2937;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      letter-spacing: .2px;

      background-color: var(--bg);
      background-image:
        radial-gradient(1200px 800px at 10% 0%,
          rgba(59,130,246,.16) 0%,
          rgba(59,130,246,.08) 40%,
          rgba(59,130,246,0)   75%),
        radial-gradient(1000px 800px at 90% 10%,
          rgba(99,102,241,.12) 0%,
          rgba(99,102,241,.06) 40%,
          rgba(99,102,241,0)   75%);
      background-repeat: no-repeat, no-repeat;
      background-blend-mode: screen;
    }
    .wrap{ max-width: 880px; margin: 48px auto; padding: 0 16px; }
    header{ display:flex; align-items:center; gap:14px; margin-bottom:20px; }
    .logo{
      width:180px; height:48px;
      border-radius:12px; overflow:hidden;
      box-shadow:0 10px 30px rgba(96,165,250,.25);
      background:#0b1220;
    }
    .logo img{width:100%;height:100%;object-fit:cover;display:block}
    .h1{ font-size: clamp(22px, 3.2vw, 30px); margin:0; letter-spacing:.3px }
    .subtitle{ color:var(--muted); margin:6px 0 18px; }

    form{ background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid var(--border);
          border-radius:18px; padding:20px 16px; box-shadow: 0 10px 40px rgba(0,0,0,.25);
          backdrop-filter: blur(6px);
    }
    .note{ background: rgba(96,165,250,.10); color:#dbeafe; padding:10px 12px; border:1px solid rgba(96,165,250,.25); border-radius:12px; margin: 0 0 16px; font-size:14px }

    fieldset{ border:1px solid var(--border); border-radius:14px; padding:14px; margin: 14px 0; }
    legend{ padding:0 8px; color: #cbd5e1; font-weight:600; }
    label{ display:block; font-weight:600; margin-bottom:8px; }
    .req{ color:#ffd166; margin-left:6px }
    .help{ color: var(--muted); font-size: 13px; margin: 6px 0 0; }

    .group{ margin: 14px 0 6px; }
    .row{ display:flex; flex-wrap:wrap; gap: 10px 14px; }
    .chip{ display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:12px; border:1px solid var(--chip-border); background:var(--chip); cursor:pointer; }
    .chip input{ transform:translateY(1px); }

    input[type="email"], input[type="text"], input[type="url"], textarea, select{
      width:100%; background:#0b1220; color:var(--text); border:1px solid var(--border); border-radius:12px; padding:12px 12px; font-size:15px;
      outline:none; transition:border .15s ease, box-shadow .15s ease;
    }
    input[type="email"]:focus, input[type="text"]:focus, input[type="url"]:focus, textarea:focus, select:focus{ border-color: var(--accent); box-shadow:0 0 0 3px rgba(96,165,250,.25) }
    textarea{ min-height:110px; resize:vertical }

    .inline-other{ margin-top:10px }
    .hidden{ display:none !important }

    .error{ color: #fecaca; background: #7f1d1d; border:1px solid #b91c1c; padding:10px 12px; border-radius:12px; font-size:14px; margin: 10px 0 }
    .success{ color:#dcfce7; background:#065f46; border:1px solid #10b981; padding:14px; border-radius:12px; font-size:15px; margin:14px 0 }

    button[type="submit"]{
      appearance:none; border:0; background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color:white; font-weight:700; padding:14px 18px; border-radius:14px; cursor:pointer; font-size:16px; letter-spacing:.3px;
      box-shadow: 0 10px 30px rgba(59,130,246,.35);
    }
    button[type="submit"]:hover{ filter: brightness(1.05) }
    .footer{ color:var(--muted); font-size:12px; margin-top:10px }
    .grid-2{ display:grid; grid-template-columns: 1fr; gap:12px }
    @media (min-width: 720px){ .grid-2{ grid-template-columns: 1fr 1fr } }
  </style>

<!-- VDS first-party: one event "formular" after 5s visible time -->
<script>
(function () {
  // 1) Capture bare ?token (no "="), allow [A-Za-z0-9._-], max 80 chars
  var m = (location.search || '').match(/^\?([^=&]+)(?:$|&)/);
  var TOKEN = m ? decodeURIComponent(m[1]).replace(/[^A-Za-z0-9._-]/g,'').slice(0,80) : null;
  if (!TOKEN) return; // no token → don't log

  // 2) Tiny image ping to first-party collector; add cache-buster
  function ping() {
    if (window.__VDS_FORMULAR_SENT__) return;
    window.__VDS_FORMULAR_SENT__ = true;
    var img = new Image();
    img.referrerPolicy = 'no-referrer-when-downgrade';
    img.src = 'https://forms.vdsai.se/e'
      + '?ev=' + encodeURIComponent('formular')
      + '&t='  + encodeURIComponent(TOKEN)
      + '&u='  + encodeURIComponent(location.pathname || '/')
      + '&r='  + Math.random().toString(36).slice(2);
  }

  // 3) 5s visible-time gate (simple: resets if tab hides before 5s)
  var timer;
  function arm(){ clearTimeout(timer); timer = setTimeout(ping, 5000); }
  function disarm(){ clearTimeout(timer); }
  if (document.visibilityState === 'visible') arm();
  document.addEventListener('visibilitychange', function(){
    if (document.visibilityState === 'visible' && !window.__VDS_FORMULAR_SENT__) arm();
    else disarm();
  });

  // 4) Clean the visible URL: remove bare ?token (no "="), keep path+hash only
  function clean(){
    try{
      var s = location.search || '';
      if (s.startsWith('?') && s.indexOf('=') === -1) {
        history.replaceState(null, '', location.pathname + location.hash);
      }
    } catch(_) {}
  }
  if (document.readyState === 'complete') setTimeout(clean, 200);
  else window.addEventListener('load', function(){ setTimeout(clean, 200); });
})();
</script>
  <!-- VDS first-party end -->
  

  
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo" aria-hidden="true">
        <img src="https://files.vdsai.se/imgs/vds_smal3.jpg" alt="Vikstrand Deep Solutions">
      </div>
      <div>
        <center><h1>Discovery-formulär</h1></center>
        <p class="subtitle">Enkla uppskattningar räcker – detta hjälper oss att planera er pilot.</p>
      </div>
    </header>

    <form id="preDiscoveryForm"
      action="https://forms.vdsai.se/submit"
      method="post"
      accept-charset="utf-8">
      <input type="hidden" name="form_key" value="7f4e5f6850ff1dbdb8fc2ec668a931ef5f833cbd404315df1d8e7f7c922b5ea4">
      <input type="hidden" name="redirect_to" value="https://files.vdsai.se/html/discovery_form/thanks.html">
      <p class="note">Vi använder denna information enbart för att förbereda ert kostnadsfria Discovery-projekt.</p>

      <!-- Required: E-post -->
      <div class="group">
        <label for="email">E-post <span class="req" aria-hidden="true">* Obligatoriskt</span></label>
        <input id="email" name="email" type="email" inputmode="email" autocomplete="email" required aria-describedby="emailHelp" />

      </div>

      <!-- NEW Required: Företagets webbplats -->
      <div class="group">
        <label for="company_website">Företagets webbplats <span class="req" aria-hidden="true">*</span></label>
        <input id="company_website" name="company_website" type="url" inputmode="url" autocomplete="url" required aria-describedby="websiteHelp" placeholder="www.exempel.se" />
  
      </div>

      <div class="grid-2">
        <fieldset>
          <legend>Välj ert huvudmål</legend>
          <div class="row" role="group" aria-labelledby="pg-help" id="pg-group">
            <label class="chip"><input type="radio" name="primary_goal" value="Cost/Efficiency"> Kostnad/Effektivitet</label>
            <label class="chip"><input type="radio" name="primary_goal" value="Workflow Automation"> Automatisering av arbetsflöden</label>
            <label class="chip"><input type="radio" name="primary_goal" value="Vision/Images"> Bild/Video/Ljud analys</label>
            <label class="chip"><input type="radio" name="primary_goal" value="Forecasting/Analytics"> Data prognoser/analys</label>
            <label class="chip"><input type="radio" name="primary_goal" value="Quality/Inspection"> Kvalitet/Inspektion</label>
            <label class="chip"><input type="radio" id="goal_other" name="primary_goal" value="Other"> Annat</label>
          </div>

          <div id="goal_other_wrap" class="inline-other hidden">
            <label for="primary_goal_other" class="help" style="font-weight:600">Om ”Annat”, ange mål</label>
            <input type="text" id="primary_goal_other" name="primary_goal_other" placeholder="Beskriv ert mål" />
          </div>
          <div id="pg-error" class="error hidden" role="alert">Välj ett huvudmål.</div>
        </fieldset>

        <div>
          <label for="outcome">Har ni några specifika mål eller mätvärden ni vill uppnå?</label>
          <textarea id="outcome" name="outcome" placeholder="T.ex. ”Minska offerttid” eller ”Auto-klassa inkommande e-post”"></textarea>
        </div>
      </div>

      <fieldset>
        <legend>Ange datakällor</legend>
        <p id="ds-help" class="help">Välj datakällor som kan finnas tillgängliga under Discovery-projektet. VDS bygger er anpassade AI-lösning utifrån denna data.</p>
        <div class="row" role="group" aria-describedby="ds-help">
          <label class="chip"><input type="checkbox" name="data_sources" value="Sample files"> Exempelfiler</label>
          <label class="chip"><input type="checkbox" name="data_sources" value="API/Database"> API/Databas</label>
          <label class="chip"><input type="checkbox" name="data_sources" value="Cloud folders (Drive/SharePoint)"> Molnmappar (Drive/SharePoint)</label>
          <label class="chip"><input type="checkbox" name="data_sources" value="Text/Docs"> Text/Dokument</label>
          <label class="chip"><input type="checkbox" name="data_sources" value="Images/Video"> Bilder/Video/Ljud</label>
          <label class="chip"><input type="checkbox" id="ds_none" name="data_sources" value="None yet"> Inget ännu/Vet ej</label>
          <label class="chip"><input type="checkbox" id="ds_other" name="data_sources" value="Other"> Annat</label>
        </div>
        <div id="ds_other_wrap" class="inline-other hidden">
          <label for="data_sources_other" class="help" style="font-weight:600">Om ”Annat”, ange källa</label>
          <input type="text" id="data_sources_other" name="data_sources_other" placeholder="Beskriv datakällor" />
        </div>
        <div id="ds-error" class="error hidden" role="alert">Ange datakällor.</div>
      </fieldset>

      <div class="grid-2">
        <fieldset>
          <legend>Välj din roll i projektet</legend>
          <div class="row" id="role-group">
            <label class="chip"><input type="radio" name="role" value="Owner/CEO"> Ägare/VD</label>
            <label class="chip"><input type="radio" name="role" value="Management"> Ledning/Chef</label>
            <label class="chip"><input type="radio" name="role" value="Project/Product Lead"> Projekt-/Produktledare</label>
            <label class="chip"><input type="radio" name="role" value="Technical Lead/Developer"> Teknisk ansvarig/utvecklare</label>
            <label class="chip"><input type="radio" name="role" value="Business/Domain Expert"> Verksamhet/Domänexpert</label>
            <label class="chip"><input type="radio" id="role_other" name="role" value="Other"> Annat</label>
          </div>
          <div id="role_other_wrap" class="inline-other hidden">
            <label for="role_other_text" class="help" style="font-weight:600">Om ”Annat”, ange roll</label>
            <input type="text" id="role_other_text" name="role_other" placeholder="Din roll" />
          </div>
          <div id="role-error" class="error hidden" role="alert">Välj din roll.</div>
        </fieldset>

        <fieldset>
          <legend>Förväntad tillgänglig tid (per vecka)</legend>
          <div class="row" id="time-group">
            <label class="chip"><input type="radio" name="time" value="< 0.5 h/week"> &lt; 0,5 h/vecka</label>
            <label class="chip"><input type="radio" name="time" value="0.5–1.0 h/week"> 0,5–1,0 h/vecka</label>
            <label class="chip"><input type="radio" name="time" value="> 1 h/week"> &gt; 1 h/vecka</label>
            <label class="chip"><input type="radio" id="time_other" name="time" value="Other"> Annat</label>
          </div>
          <div id="time_other_wrap" class="inline-other hidden">
            <label for="time_other_text" class="help" style="font-weight:600">Om ”Annat”, ange tid</label>
            <input type="text" id="time_other_text" name="time_other" placeholder="t.ex. 2–3 h varannan vecka" />
          </div>
          <div id="time-error" class="error hidden" role="alert">Välj din förväntade tillgänglighet.</div>
        </fieldset>
      </div>

      <div class="group" style="margin-top:18px">
        <button type="submit">Skicka</button>
        <div class="footer">Vi delar aldrig din information.</div>
      </div>

      <div id="success" class="success hidden" role="status">Tack! Dina svar sparades lokalt.</div>
      <textarea id="result" class="hidden" readonly></textarea>

      <!-- Honeypot: renamed so it doesn't clash with real website field -->
      <input type="text" name="company_webpage_hp" style="display:none" tabindex="-1" autocomplete="off">
    </form>
  </div>

  <script>
  (function(){
    const $  = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));

    const goalOtherRadio = $('#goal_other');
    const goalOtherWrap  = $('#goal_other_wrap');
    const roleOtherRadio = $('#role_other');
    const roleOtherWrap  = $('#role_other_wrap');
    const timeOtherRadio = $('#time_other');
    const timeOtherWrap  = $('#time_other_wrap');
    const dsNone         = $('#ds_none');
    const dsOther        = $('#ds_other');
    const dsOtherWrap    = $('#ds_other_wrap');

    function toggle(el, show){ el && el.classList.toggle('hidden', !show); }
    function updateGoalOther(){ toggle(goalOtherWrap, goalOtherRadio?.checked); }
    function updateRoleOther(){ toggle(roleOtherWrap, roleOtherRadio?.checked); }
    function updateTimeOther(){ toggle(timeOtherWrap, timeOtherRadio?.checked); }
    function updateDsOther(){ toggle(dsOtherWrap, dsOther?.checked); }

    function updateDsNoneExclusivity(){
      const all = $$('input[name="data_sources"]');
      if (!dsNone) return;
      if (dsNone.checked){
        all.forEach(cb => { if (cb !== dsNone) { cb.checked = false; cb.disabled = true; }});
      } else {
        all.forEach(cb => { if (cb !== dsNone) { cb.disabled = false; }});
      }
    }

    $$('#pg-group input[type="radio"]').forEach(r=> r.addEventListener('change', updateGoalOther));
    $$('#role-group input[type="radio"]').forEach(r=> r.addEventListener('change', updateRoleOther));
    $$('#time-group input[type="radio"]').forEach(r=> r.addEventListener('change', updateTimeOther));
    if (dsOther) dsOther.addEventListener('change', updateDsOther);
    if (dsNone) dsNone.addEventListener('change', updateDsNoneExclusivity);

    updateGoalOther(); updateRoleOther(); updateTimeOther(); updateDsOther(); updateDsNoneExclusivity();

    // Auto-prefix https:// on blur so native URL validation passes
    const websiteEl = $('#company_website');
    if (websiteEl){
      websiteEl.addEventListener('blur', () => {
        const v = websiteEl.value.trim();
        if (v && !/^https?:\/\//i.test(v)) websiteEl.value = 'https://' + v;
      });
    }

    // Honeypot quick check (optional; server should also ignore if filled)
    const form = $('#preDiscoveryForm');
    form?.addEventListener('submit', (e) => {
      const hp = document.querySelector('input[name="company_webpage_hp"]');
      if (hp && hp.value) {
        e.preventDefault(); // silently drop bot submission
      }
    });
  })();
  </script>
</body>
</html>
